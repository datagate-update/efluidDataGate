-- Init d'une table façon TAPPLICATIONINFO - ORACLE 12c

DROP TABLE "TDEMO_VERSION";
DROP TABLE "TAPPLICATIONINFO";

  CREATE TABLE "TAPPLICATIONINFO" 
   (	
    "ID" VARCHAR2(25 BYTE), 
	"MODEAPPLICATION" NUMBER(2,0), 
	"ACTEURCREATION" VARCHAR2(50 BYTE), 
	"DATEMODIFICATION" TIMESTAMP (3), 
	"ACTEURMODIFICATION" VARCHAR2(50 BYTE), 
	"DATECREATION" TIMESTAMP (3), 
	"MAJPARAMETRAGEMETIER" NUMBER(1,0), 
	"VERSION" VARCHAR2(80 BYTE), 
	"PROJET" VARCHAR2(80 BYTE), 
	"SITE" VARCHAR2(80 BYTE), 
	"AFFICHERMESSAGE" NUMBER(1,0), 
	"MESSAGEINFO" VARCHAR2(250 BYTE)
   ) TABLESPACE "USERS" ;

  CREATE UNIQUE INDEX "PK_TAPPLICATIONINFO" ON "TAPPLICATIONINFO" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);


  ALTER TABLE "TAPPLICATIONINFO" ADD CONSTRAINT "PK_TAPPLICATIONINFO" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT);


CREATE TABLE "TDEMO_VERSION" (
    "ID" NUMBER(19,0) GENERATED BY DEFAULT ON NULL AS IDENTITY,
	"VERSION" VARCHAR2(256 BYTE) NOT NULL, 
    "UPDATE_TIME" TIMESTAMP,
	"DETAIL" VARCHAR2(256 BYTE) NOT NULL,
    CONSTRAINT "TDEMO_VERSION_pkey" PRIMARY KEY ("ID")
) TABLESPACE "USERS" ;

-- Pour l'instant des données très simples.
INSERT INTO "TDEMO_VERSION"("VERSION", "UPDATE_TIME", "DETAIL") VALUES ('v1.0.34', '02-01-2018 23:45:37', 'Mise à jour de ceci cela 1');
INSERT INTO "TDEMO_VERSION"("VERSION", "UPDATE_TIME", "DETAIL") VALUES ('v1.0.45', '02-02-2018 23:45:37', 'Mise à jour de ceci cela 2');
INSERT INTO "TDEMO_VERSION"("VERSION", "UPDATE_TIME", "DETAIL") VALUES ('v1.0.51', '02-03-2018 23:45:37', 'Mise à jour de ceci cela 3');
INSERT INTO "TDEMO_VERSION"("VERSION", "UPDATE_TIME", "DETAIL") VALUES ('v1.0.57', '02-04-2018 23:45:37', 'Mise à jour de ceci cela 4');

EXEC DBMS_STATS.gather_schema_stats('REFERENCE', cascade=>TRUE);