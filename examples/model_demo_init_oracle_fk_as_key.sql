-- Script de préparation de la BDD pour tester l'utilisation de FK en tant que Key

DROP TABLE "TFIRST";
DROP TABLE "TSECOND";

  CREATE TABLE "TFIRST" 
   (	"ID" NUMBER(19,0) GENERATED BY DEFAULT ON NULL AS IDENTITY,
		"NOM" VARCHAR2(256 BYTE) NOT NULL, 
		"DETAIL" VARCHAR2(256 BYTE) NOT NULL,
		CONSTRAINT "TFIRST_PK" PRIMARY KEY ("ID") USING INDEX ENABLE
   ) TABLESPACE "USERS" ;

CREATE TABLE "TSECOND"
(
    "ID" NUMBER(19,0) GENERATED BY DEFAULT ON NULL AS IDENTITY,
    "VALUE" VARCHAR2(256 BYTE) NOT NULL,
    "OTHER_VALUE" VARCHAR2(256 BYTE),
    "FIRST_ID" NUMBER NOT NULL,
    CONSTRAINT "TSECOND_PK" PRIMARY KEY ("ID") USING INDEX ENABLE,
    CONSTRAINT "TFIRST_TYPE" FOREIGN KEY ("FIRST_ID") REFERENCES "TFIRST" ("ID") 
) TABLESPACE "USERS" ;

-- Pour l'instant des données très simples.

INSERT INTO "TFIRST"("NOM", "DETAIL") VALUES ('First1', 'Some details 1');
INSERT INTO "TFIRST"("NOM", "DETAIL") VALUES ('First2', 'Some details 2');
INSERT INTO "TFIRST"("NOM", "DETAIL") VALUES ('First3', 'Some details 3');
INSERT INTO "TFIRST"("NOM", "DETAIL") VALUES ('First4', 'Some details 4');


INSERT INTO "TSECOND"("VALUE", "OTHER_VALUE", "FIRST_ID") VALUES ('Second1', 'Some other1', 1);
INSERT INTO "TSECOND"("VALUE", "OTHER_VALUE", "FIRST_ID") VALUES ('Second2', 'Some other2', 2);
INSERT INTO "TSECOND"("VALUE", "OTHER_VALUE", "FIRST_ID") VALUES ('Second3', 'Some other3', 3);
INSERT INTO "TSECOND"("VALUE", "OTHER_VALUE", "FIRST_ID") VALUES ('Second4', 'Some other4', 4);

